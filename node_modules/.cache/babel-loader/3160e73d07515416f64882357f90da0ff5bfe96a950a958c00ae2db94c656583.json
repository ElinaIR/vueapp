{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"card mt-3\"\n};\nconst _hoisted_3 = {\n  class: \"card-body\"\n};\nconst _hoisted_4 = {\n  class: \"d-flex flex-row align-items-center justify-content-between\"\n};\nconst _hoisted_5 = {\n  class: \"card-title\"\n};\nconst _hoisted_6 = {\n  class: \"card-subtitle mb-2 text-muted\"\n};\nconst _hoisted_7 = {\n  class: \"card-text\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createTextVNode(\" {% if request.user.is_authenticated %} {% get_userprofile request.user.id as userProfile %} {% if userProfile == deck.creator %} \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"{% url 'create_card' %}\",\n  class: \"btn btn-outline-secondary\"\n}, \" Создать карточку \"), /*#__PURE__*/_createTextVNode(\" {% endif %} {% if not deck in userProfile.decks %} \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"{{ deck.get_add_url }}\",\n  class: \"btn btn-primary\"\n}, \" Добавить \"), /*#__PURE__*/_createTextVNode(\" {% endif %} {% endif %} \")], -1 /* HOISTED */);\nconst _hoisted_9 = {\n  class: \"list-group list-group-flush\"\n};\nconst _hoisted_10 = {\n  class: \"list-group-item\"\n};\nexport function render(_ctx, _cache) {\n  const _component_Navbar = _resolveComponent(\"Navbar\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Navbar), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", null, [_createElementVNode(\"h5\", _hoisted_5, _toDisplayString(_ctx.deck.title), 1 /* TEXT */), _createElementVNode(\"h6\", _hoisted_6, _toDisplayString(_ctx.deck.creator) + \", \" + _toDisplayString(_ctx.deck.creation_date), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_7, _toDisplayString(_ctx.deck.desc), 1 /* TEXT */)]), _hoisted_8]), _createElementVNode(\"ul\", _hoisted_9, [_createTextVNode(\" {% for c in deck.cards.all %} \"), _createElementVNode(\"li\", _hoisted_10, _toDisplayString(_ctx.c.front) + \" | \" + _toDisplayString(_ctx.c.back), 1 /* TEXT */), _createTextVNode(\" {% endfor %} \")])])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","href","_createVNode","_component_Navbar","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_ctx","deck","title","_hoisted_6","creator","creation_date","_hoisted_7","desc","_hoisted_8","_hoisted_9","_hoisted_10","c","front","back"],"sources":["/Users/elinaigdavletova/Documents/Интернет_программирование/GQW/frontend/vueapp/src/card_views/Deck.vue"],"sourcesContent":["<template>\n    <Navbar></Navbar>\n    <div class=\"container\">\n        <div class=\"card mt-3\">\n            <div class=\"card-body\">\n                <div class=\"d-flex flex-row align-items-center justify-content-between\">\n                    <div>\n                        <h5 class=\"card-title\">{{ deck.title }}</h5>\n                        <h6 class=\"card-subtitle mb-2 text-muted\">{{ deck.creator }}, {{ deck.creation_date }}</h6>\n                        <p class=\"card-text\">{{ deck.desc }}</p>\n                    </div>\n                    <div>\n                        {% if request.user.is_authenticated %}\n                            {% get_userprofile request.user.id as userProfile %}\n                            {% if userProfile == deck.creator %}\n                                <a href=\"{% url 'create_card' %}\" class=\"btn btn-outline-secondary\"> Создать карточку </a>\n                            {% endif %}\n                            {% if not deck in userProfile.decks %}\n                                <a href=\"{{ deck.get_add_url }}\" class=\"btn btn-primary\"> Добавить </a>\n                            {% endif %}\n                        {% endif %}\n                    </div>\n                </div>\n                <ul class=\"list-group list-group-flush\">\n                    {% for c in deck.cards.all %}\n                        <li class=\"list-group-item\">\n                            {{ c.front }} | {{ c.back }}\n                        </li>\n                    {% endfor %}\n                </ul>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { API } from '../axios-api'\nimport { mapState } from 'vuex'\nimport Navbar from '../components/Navbar.vue'\nexport default {\n    name: 'DeckList',\n    components: {\n        Navbar\n    },\n    data() {\n        return {\n            APIData: [],\n            profile: '',\n        }\n    },\n    computed: mapState(['accessToken', 'user']),\n    created() {\n        API.get(`/cards/decks/${this.$route.params.slug`}).then(response => {\n            console.log(response.data)\n            this.APIData = response.data\n        }).catch(err => {\n            console.log(err)\n        })\n        API.get('/cards/profiles').then(response => {\n            console.log(response.data)\n            let profiles = response.data\n            profiles.forEach(p => {\n                if (p.user.id == this.user.id) {\n                    this.profile = p\n                }\n            })\n        }).catch(err => {\n            console.log(err)\n        })\n    },\n    methods: {\n        add(id) {\n            this.profile.decks.push(id)\n            API.patch(`/cards/profiles/${this.profile.id}/`, {\n                decks: this.profile.decks\n            }, {\n                headers: {\n                    'Authorization': `Bearer ${this.$store.state.accessToken}`,\n                },\n            }).then(response => {\n                console.log(response.data)\n            }).catch(err => {\n                console.log(err)\n            })\n        }\n    }\n}\n</script>\n\n<style scoped></style>"],"mappings":";;EAESA,KAAK,EAAC;AAAW;;EACbA,KAAK,EAAC;AAAW;;EACbA,KAAK,EAAC;AAAW;;EACbA,KAAK,EAAC;AAA4D;;EAE3DA,KAAK,EAAC;AAAY;;EAClBA,KAAK,EAAC;AAA+B;;EACtCA,KAAK,EAAC;AAAW;gCAExBC,mBAAA,CAUM,c,8BAVD,oIAIO,G,aAAAA,mBAAA,CAA0F;EAAvFC,IAAI,EAAC,yBAAyB;EAACF,KAAK,EAAC;GAA4B,oBAAkB,G,8BAAI,sDAG1F,G,aAAAC,mBAAA,CAAuE;EAApEC,IAAI,EAAC,wBAAwB;EAACF,KAAK,EAAC;GAAkB,YAAU,G,8BAAI,2BAGnF,E;;EAEAA,KAAK,EAAC;AAA6B;;EAE3BA,KAAK,EAAC;AAAiB;;;6DAxB/CG,YAAA,CAAiBC,iBAAA,GACjBH,mBAAA,CA8BM,OA9BNI,UA8BM,GA7BFJ,mBAAA,CA4BM,OA5BNK,UA4BM,GA3BFL,mBAAA,CA0BM,OA1BNM,UA0BM,GAzBFN,mBAAA,CAiBM,OAjBNO,UAiBM,GAhBFP,mBAAA,CAIM,cAHFA,mBAAA,CAA4C,MAA5CQ,UAA4C,EAAAC,gBAAA,CAAlBC,IAAA,CAAAC,IAAI,CAACC,KAAK,kBACpCZ,mBAAA,CAA2F,MAA3Fa,UAA2F,EAAAJ,gBAAA,CAA9CC,IAAA,CAAAC,IAAI,CAACG,OAAO,IAAG,IAAE,GAAAL,gBAAA,CAAGC,IAAA,CAAAC,IAAI,CAACI,aAAa,kBACnFf,mBAAA,CAAwC,KAAxCgB,UAAwC,EAAAP,gBAAA,CAAhBC,IAAA,CAAAC,IAAI,CAACM,IAAI,iB,GAErCC,UAUM,C,GAEVlB,mBAAA,CAMK,MANLmB,UAMK,G,iBANmC,iCAEhC,GAAAnB,mBAAA,CAEK,MAFLoB,WAEK,EAAAX,gBAAA,CADEC,IAAA,CAAAW,CAAC,CAACC,KAAK,IAAG,KAAG,GAAAb,gBAAA,CAAGC,IAAA,CAAAW,CAAC,CAACE,IAAI,kB,iBACxB,gBAEb,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}