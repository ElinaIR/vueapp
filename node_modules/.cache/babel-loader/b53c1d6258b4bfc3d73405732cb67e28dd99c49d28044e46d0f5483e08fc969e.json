{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  class: \"col-3\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = [\"id\"];\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-outline-success\"\n}, \"Закончить тест\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Navbar = _resolveComponent(\"Navbar\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Navbar), _createElementVNode(\"div\", _hoisted_1, [$data.loaded ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"form\", {\n    class: \"p-2 bg-light border border-3 rounded-3 row w-75 mx-auto mt-2\",\n    onSubmit: _cache[0] || (_cache[0] = $event => $options.check())\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.cards, c => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: c.id,\n      class: \"row\"\n    }, [_createElementVNode(\"div\", _hoisted_3, [c.front_word ? (_openBlock(), _createElementBlock(\"p\", _hoisted_4, _toDisplayString(c.front_word), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), c.front_pic ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 1,\n      src: $data.base_url + c.front_pic,\n      class: \"img-fluid\",\n      alt: \"\"\n    }, null, 8 /* PROPS */, _hoisted_5)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"input\", {\n      type: \"text\",\n      class: \"col-5\",\n      id: c.id\n    }, null, 8 /* PROPS */, _hoisted_6)]);\n  }), 128 /* KEYED_FRAGMENT */)), _hoisted_7], 32 /* HYDRATE_EVENTS */)])) : _createCommentVNode(\"v-if\", true)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","type","_createVNode","_component_Navbar","_hoisted_1","$data","loaded","_createElementBlock","_hoisted_2","onSubmit","_cache","$event","$options","check","_Fragment","_renderList","cards","c","key","id","_hoisted_3","front_word","_hoisted_4","_toDisplayString","front_pic","src","base_url","alt","_hoisted_7"],"sources":["/Users/elinaigdavletova/Documents/Интернет_программирование/GQW/frontend/vueapp/src/card_views/Test.vue"],"sourcesContent":["<template>\n    <Navbar></Navbar>\n    <div class=\"container\">\n        <div v-if=\"loaded\">\n            <form class=\"p-2 bg-light border border-3 rounded-3 row w-75 mx-auto mt-2\" @submit=\"check()\">\n                <div v-for=\"c in cards\" :key=\"c.id\" class=\"row\">\n                    <div class=\"col-3\">\n                        <p v-if=\"c.front_word\">{{ c.front_word }}</p>\n                        <img :src=\"base_url + c.front_pic\" class=\"img-fluid\" alt=\"\" v-if=\"c.front_pic\">\n                    </div>\n                    <input type=\"text\" class=\"col-5\" :id=\"c.id\">\n                </div>\n\n                <button type=\"submit\" class=\"btn btn-outline-success\">Закончить тест</button>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { API } from '../axios-api'\nimport { mapState } from 'vuex'\nimport Navbar from '../components/Navbar.vue'\n\nexport default {\n    name: 'Test',\n    components: {\n        Navbar\n    },\n    data() {\n        return {\n            loaded: false,\n            base_url: 'http://127.0.0.1:8000',\n            cards: [],\n            attempt: '',\n        }\n    },\n    computed: {\n        ...mapState(['accessToken', 'user']),\n    },\n    created() {\n        API.get(`/cards/attempts/${this.$route.params.id}`).then(response => {\n            console.log(response.data)\n            this.attempt = response.data\n            API.get('/cards/or_cards').then(response => {\n                console.log(response.data)\n                let all_cards = response.data\n                all_cards.forEach(c => {\n                    if (c.deck.id == this.attempt.deck) {\n                        this.cards.push(c)\n                    }\n                })\n                this.loaded = true\n            }).catch(err => {\n                console.log(err)\n            })\n        }).catch(err => {\n            console.log(err)\n        })\n    },\n    methods: {\n        check() {\n            let cards = this.cards\n            cards.forEach(c => {\n                let answer = document.getElementById(c.id).value\n                let mark = 0\n                if (answer.toLowerCase() == c.word.toLowerCase()) {\n                    mark = 1\n                }\n                API.post(`/cards/marks/`, {\n                    card_id: c.id,\n                    mark: mark,\n                    attempt: this.$route.params.id\n                }, {\n                    headers: {\n                        'Authorization': `Bearer ${this.accessToken}`,\n                    },\n                }).then(response => {\n                    console.log(response.data)\n                }).catch(err => {\n                    console.log(err)\n                })\n            })\n\n            this.$router.push({ name: 'results', params: { id: this.$route.params.id }})\n        }\n    }\n\n}\n</script>\n<style lang=\"\">\n    \n</style>"],"mappings":";;EAESA,KAAK,EAAC;AAAW;;;;;EAIDA,KAAK,EAAC;AAAO;;;;;;gCAOtBC,mBAAA,CAA6E;EAArEC,IAAI,EAAC,QAAQ;EAACF,KAAK,EAAC;GAA0B,gBAAc;;;;6DAZhFG,YAAA,CAAiBC,iBAAA,GACjBH,mBAAA,CAcM,OAdNI,UAcM,GAbSC,KAAA,CAAAC,MAAM,I,cAAjBC,mBAAA,CAYM,OAAAC,UAAA,GAXFR,mBAAA,CAUO;IAVDD,KAAK,EAAC,8DAA8D;IAAEU,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,KAAK;yBACrFN,mBAAA,CAMMO,SAAA,QAAAC,WAAA,CANWV,KAAA,CAAAW,KAAK,EAAVC,CAAC;yBAAbV,mBAAA,CAMM;MANmBW,GAAG,EAAED,CAAC,CAACE,EAAE;MAAEpB,KAAK,EAAC;QACtCC,mBAAA,CAGM,OAHNoB,UAGM,GAFOH,CAAC,CAACI,UAAU,I,cAArBd,mBAAA,CAA6C,KAAAe,UAAA,EAAAC,gBAAA,CAAnBN,CAAC,CAACI,UAAU,oB,mCAC4BJ,CAAC,CAACO,SAAS,I,cAA7EjB,mBAAA,CAA+E;;MAAzEkB,GAAG,EAAEpB,KAAA,CAAAqB,QAAQ,GAAGT,CAAC,CAACO,SAAS;MAAEzB,KAAK,EAAC,WAAW;MAAC4B,GAAG,EAAC;gFAE7D3B,mBAAA,CAA4C;MAArCC,IAAI,EAAC,MAAM;MAACF,KAAK,EAAC,OAAO;MAAEoB,EAAE,EAAEF,CAAC,CAACE;;kCAG5CS,UAA6E,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}