{"ast":null,"code":"import { mapState } from 'vuex';\nimport { API } from '../axios-api';\nexport default {\n  name: 'Navbar',\n  data() {\n    return {\n      loaded: false\n    };\n  },\n  computed: {\n    ...mapState(['accessToken'], ['user']),\n    cardsApp() {\n      const url = this.$route.path;\n      console.log('url', url);\n      const regex = /^(.*)\\/cards.*/;\n      const match = regex.exec(url);\n      console.log('regex', match);\n      if (match) return true;else return false;\n    }\n  },\n  created() {\n    document.addEventListener('DOMContentLoaded', () => {\n      API.get('/get-csrf/').then(response => {\n        console.log(response.data);\n        localStorage.setItem('csrfToken', response.data.csrf_token);\n        console.log(this.loaded);\n        this.loaded = true;\n        console.log(this.user);\n      }).catch(err => {\n        console.log(err);\n      });\n    });\n  }\n};","map":{"version":3,"names":["mapState","API","name","data","loaded","computed","cardsApp","url","$route","path","console","log","regex","match","exec","created","document","addEventListener","get","then","response","localStorage","setItem","csrf_token","user","catch","err"],"sources":["/Users/elinaigdavletova/Documents/Интернет_программирование/GQW/frontend/vueapp/src/components/Navbar.vue"],"sourcesContent":["<template>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n    <div class=\"container-fluid\">\n        <a class=\"navbar-brand\" href=\"/\">English Online</a>\n        <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"></span>\n        </button>\n        <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n            <div class=\"navbar-nav d-flex w-100 justify-content-between\">\n                <div class=\"d-flex flex-nowrap\">\n                    <router-link :to = \"{ name: 'home' }\" exact class=\"nav-link\"> Home </router-link>\n                    <router-link :to = \"{ name: 'decks' }\" exact class=\"nav-link\"> Cards </router-link>\n                </div>\n                <router-link :to = \"{ name: 'login' }\" exact class=\"btn btn-outline-dark\" v-if=\"accessToken == null\"> Войти </router-link>\n\n                <div class=\"dropdown\" v-if=\"loaded && (accessToken != null) && !cardsApp\">\n                    <a href=\"#\" class=\"d-block link-dark text-decoration-none dropdown-toggle\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">{{ user.last_name }} {{ user.first_name }}</a>\n                    <ul class=\"dropdown-menu text-small\" style=\"right: 0; left: auto;\">\n                        <li><hr class=\"dropdown-divider\"></li>\n                        <li><router-link :to = \"{ name: 'logout' }\" exact class=\"dropdown-item\"> Выйти </router-link></li>\n                    </ul>\n                </div>\n\n                <div class=\"dropdown\" v-if=\"loaded && (accessToken != null) && cardsApp\">\n                    <a href=\"#\" class=\"d-block link-dark text-decoration-none dropdown-toggle\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">{{ user.username }}</a>\n                    <ul class=\"dropdown-menu text-small\" style=\"right: 0; left: auto;\">\n                        <li><router-link :to = \"{ name: 'review-all' }\" exact class=\"dropdown-item\"> Заучивание </router-link></li>\n                        <li><router-link :to = \"{ name: 'my-decks' }\" exact class=\"dropdown-item\"> Стопки </router-link></li>\n                        <li><router-link :to = \"{ name: 'tests' }\" exact class=\"dropdown-item\"> Тесты </router-link></li>\n                        <li><hr class=\"dropdown-divider\"></li>\n                        <li><router-link :to = \"{ name: 'logout' }\" exact class=\"dropdown-item\"> Выйти </router-link></li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    </nav>\n</template>\n\n<script>\n    import { mapState } from 'vuex'\n    import { API } from '../axios-api'\n    export default {\n        name: 'Navbar',\n        data() {\n            return {\n                loaded: false,\n            }\n        },\n        computed: {\n            ...mapState(['accessToken'], ['user']),\n            cardsApp() {\n                const url = this.$route.path\n                console.log('url', url)\n                const regex = /^(.*)\\/cards.*/\n                const match = regex.exec(url)\n                console.log('regex', match)\n                if (match) return true\n                else return false\n            }\n        },\n        created() {\n            document.addEventListener('DOMContentLoaded', () => {\n                API.get('/get-csrf/').then(response => {\n                    console.log(response.data)\n                    localStorage.setItem('csrfToken', response.data.csrf_token)\n                    console.log(this.loaded)\n                    this.loaded = true\n                    console.log(this.user)\n                }).catch(err => {\n                    console.log(err)\n                })\n            })\n        },\n    }\n</script>\n\n<style scoped>\n    \n</style>"],"mappings":"AAwCI,SAASA,QAAO,QAAS,MAAK;AAC9B,SAASC,GAAE,QAAS,cAAa;AACjC,eAAe;EACXC,IAAI,EAAE,QAAQ;EACdC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,MAAM,EAAE;IACZ;EACJ,CAAC;EACDC,QAAQ,EAAE;IACN,GAAGL,QAAQ,CAAC,CAAC,aAAa,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IACtCM,QAAQA,CAAA,EAAG;MACP,MAAMC,GAAE,GAAI,IAAI,CAACC,MAAM,CAACC,IAAG;MAC3BC,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEJ,GAAG;MACtB,MAAMK,KAAI,GAAI,gBAAe;MAC7B,MAAMC,KAAI,GAAID,KAAK,CAACE,IAAI,CAACP,GAAG;MAC5BG,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEE,KAAK;MAC1B,IAAIA,KAAK,EAAE,OAAO,IAAG,MAChB,OAAO,KAAI;IACpB;EACJ,CAAC;EACDE,OAAOA,CAAA,EAAG;IACNC,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;MAChDhB,GAAG,CAACiB,GAAG,CAAC,YAAY,CAAC,CAACC,IAAI,CAACC,QAAO,IAAK;QACnCV,OAAO,CAACC,GAAG,CAACS,QAAQ,CAACjB,IAAI;QACzBkB,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEF,QAAQ,CAACjB,IAAI,CAACoB,UAAU;QAC1Db,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,MAAM;QACvB,IAAI,CAACA,MAAK,GAAI,IAAG;QACjBM,OAAO,CAACC,GAAG,CAAC,IAAI,CAACa,IAAI;MACzB,CAAC,CAAC,CAACC,KAAK,CAACC,GAAE,IAAK;QACZhB,OAAO,CAACC,GAAG,CAACe,GAAG;MACnB,CAAC;IACL,CAAC;EACL;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}