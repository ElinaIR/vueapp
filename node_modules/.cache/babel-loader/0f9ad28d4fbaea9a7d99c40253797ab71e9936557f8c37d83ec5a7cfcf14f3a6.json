{"ast":null,"code":"import { API } from '../axios-api';\nimport Navbar from '../components/Navbar.vue';\n// import { useVuelidate } from '@vuelidate/core'\n// import { required, email, minLength, sameAs } from '@vuelidate/validators'\n\nexport default {\n  name: 'Register',\n  data() {\n    return {\n      last_name: \"\",\n      first_name: \"\",\n      username: \"\",\n      email: \"\",\n      password1: \"\",\n      password2: \"\"\n    };\n  },\n  components: {\n    Navbar\n  },\n  methods: {\n    reg() {\n      // console.log('done');\n      API.post('/register/', {\n        last_name: this.last_name,\n        first_name: this.first_name,\n        username: this.username,\n        email: this.email,\n        password: this.password1\n      }).then(response => {\n        console.log('Registration successful');\n        console.log(response.data);\n        this.$store.dispatch('userLogin', {\n          username: this.username,\n          password: this.password1\n        }).then(() => {\n          this.$router.go(-2);\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n      // console.log('yes')\n    }\n  }\n};","map":{"version":3,"names":["API","Navbar","name","data","last_name","first_name","username","email","password1","password2","components","methods","reg","post","password","then","response","console","log","$store","dispatch","$router","go","catch","err"],"sources":["/Users/elinaigdavletova/Documents/Интернет_программирование/GQW/frontend/vueapp/src/views/Register.vue"],"sourcesContent":["<template>\n    <Navbar></Navbar>\n    <form class=\"w-50 mx-auto my-5 row needs-validation\" @submit.prevent=\"reg()\">\n        <div class=\"mb-3 col-6\">\n            <label for=\"InputSurname\" class=\"form-label\">Фамилия</label>\n            <input type=\"text\" class=\"form-control\" id=\"InputSurname\" v-model=\"last_name\">\n            <div class=\"invalid-feedback\">\n                Введите свою фамилию\n            </div>\n        </div>\n        <div class=\"mb-3 col-6\">\n            <label for=\"InputName\" class=\"form-label\">Имя</label>\n            <input type=\"text\" class=\"form-control\" id=\"InputName\" v-model=\"first_name\">\n            <div class=\"invalid-feedback\">\n                Введите свое имя\n            </div>\n        </div>\n        <div class=\"mb-3 col-6\">\n            <label for=\"InputUsername\" class=\"form-label\">Логин</label>\n            <input type=\"text\" class=\"form-control\" id=\"InputUsername\" v-model=\"username\">\n            <div class=\"invalid-feedback\">\n                Введите свой логин\n            </div>\n        </div>\n        <div class=\"mb-3 col-6\">\n            <label for=\"InputEmail\" class=\"form-label\">Email</label>\n            <input type=\"email\" class=\"form-control\" id=\"InputEmail\" v-model=\"email\">\n            <div class=\"invalid-feedback\">\n                Введите действительный e-mail\n            </div>\n        </div>\n        <div class=\"mb-3 col-6\">\n            <label for=\"InputPassword1\" class=\"form-label\">Пароль</label>\n            <input type=\"password\" class=\"form-control\" id=\"InputPassword1\" v-model=\"password1\">\n        </div>\n        <div class=\"mb-3 col-6\">\n            <label for=\"InputPassword2\" class=\"form-label\">Повторите пароль</label>\n            <input type=\"password\" class=\"form-control\" id=\"InputPassword2\" v-model=\"password2\">\n            <div class=\"invalid-feedback\">\n                Пароли должны совпадать\n            </div>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary w-75 mx-auto\">Зарегистрироваться</button>\n    </form>\n</template>\n\n<script>\nimport { API } from '../axios-api'\nimport Navbar from '../components/Navbar.vue'\n// import { useVuelidate } from '@vuelidate/core'\n// import { required, email, minLength, sameAs } from '@vuelidate/validators'\n\nexport default {\n    name: 'Register',\n    data() {\n        return {\n            last_name: \"\",\n            first_name: \"\",\n            username: \"\",\n            email: \"\",\n            password1: \"\",\n            password2: \"\",\n        }\n    },\n    components: {\n        Navbar,\n    },\n    methods: {\n        reg() {\n            // console.log('done');\n            API.post('/register/', { \n                last_name: this.last_name, \n                first_name: this.first_name, \n                username: this.username, \n                email: this.email, \n                password: this.password1\n            }).then(response => {\n                console.log('Registration successful')\n                console.log(response.data)\n\n                this.$store.dispatch('userLogin', {\n                    username: this.username,\n                    password: this.password1\n                }).then(() => {\n                    this.$router.go(-2)\n                })\n            }).catch(err => {\n                console.log(err)\n            })\n            // console.log('yes')\n        },\n    }\n}\n</script>\n\n<style scoped></style>"],"mappings":"AA+CA,SAASA,GAAE,QAAS,cAAa;AACjC,OAAOC,MAAK,MAAO,0BAAyB;AAC5C;AACA;;AAEA,eAAe;EACXC,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,SAAS,EAAE,EAAE;MACbC,UAAU,EAAE,EAAE;MACdC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE;IACf;EACJ,CAAC;EACDC,UAAU,EAAE;IACRT;EACJ,CAAC;EACDU,OAAO,EAAE;IACLC,GAAGA,CAAA,EAAG;MACF;MACAZ,GAAG,CAACa,IAAI,CAAC,YAAY,EAAE;QACnBT,SAAS,EAAE,IAAI,CAACA,SAAS;QACzBC,UAAU,EAAE,IAAI,CAACA,UAAU;QAC3BC,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBC,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBO,QAAQ,EAAE,IAAI,CAACN;MACnB,CAAC,CAAC,CAACO,IAAI,CAACC,QAAO,IAAK;QAChBC,OAAO,CAACC,GAAG,CAAC,yBAAyB;QACrCD,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACb,IAAI;QAEzB,IAAI,CAACgB,MAAM,CAACC,QAAQ,CAAC,WAAW,EAAE;UAC9Bd,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBQ,QAAQ,EAAE,IAAI,CAACN;QACnB,CAAC,CAAC,CAACO,IAAI,CAAC,MAAM;UACV,IAAI,CAACM,OAAO,CAACC,EAAE,CAAC,CAAC,CAAC;QACtB,CAAC;MACL,CAAC,CAAC,CAACC,KAAK,CAACC,GAAE,IAAK;QACZP,OAAO,CAACC,GAAG,CAACM,GAAG;MACnB,CAAC;MACD;IACJ;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}