{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { API } from '../axios-api';\n// import { mapState } from 'vuex'\nimport Navbar from '../components/Navbar.vue';\nimport BarChart from '../components/BarChart.vue';\nimport LineChart from '../components/LineChart.vue';\nexport default {\n  name: 'Stats',\n  components: {\n    Navbar,\n    BarChart,\n    LineChart\n  },\n  data() {\n    return {\n      users_loaded: false,\n      ege_loaded: false,\n      oge_loaded: false,\n      vpr_loaded: false,\n      lineChartData: {\n        labels: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\n        datasets: [{\n          label: 'Пользователи',\n          backgroundColor: 'blue',\n          data: null\n        }]\n      },\n      egeBarChartData: {\n        // labels: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\n        labels: [],\n        datasets: [{\n          label: 'ЕГЭ',\n          backgroundColor: 'red',\n          data: null\n        }]\n      },\n      ogeBarChartData: {\n        labels: [],\n        datasets: [{\n          label: 'ОГЭ',\n          backgroundColor: 'orange',\n          data: null\n        }]\n      },\n      vprBarChartData: {\n        labels: [],\n        datasets: [{\n          label: 'ВПР',\n          backgroundColor: 'yellow',\n          data: null\n        }]\n      },\n      chartOptions: {\n        responsive: true\n      }\n    };\n  },\n  async mounted() {\n    await API.get('/users').then(response => {\n      console.log(response.data);\n      this.users_loaded = true;\n    }).catch(err => {\n      console.log(err);\n    });\n    await API.get('/ege/popularity').then(response => {\n      let popularity = response.data;\n      let variants = [];\n      let data = [];\n      let labels = [];\n      popularity.forEach(p => {\n        if (variants.includes(p.variant.id)) {\n          data[variants.findIndex(elem => elem == p.variant.id)] += 1;\n        } else {\n          variants.push(p.variant.id);\n          data.push(1);\n          labels.push(p.variant.name);\n        }\n      });\n      this.egeBarChartData.labels = labels;\n      this.egeBarChartData.datasets[0].data = data;\n      this.ege_loaded = true;\n      console.log(labels, data);\n    }).catch(err => {\n      console.log(err);\n    });\n    await API.get('/oge/popularity').then(response => {\n      let popularity = response.data;\n      let variants = [];\n      let data = [];\n      let labels = [];\n      popularity.forEach(p => {\n        if (variants.includes(p.variant.id)) {\n          data[variants.findIndex(elem => elem == p.variant.id)] += 1;\n        } else {\n          variants.push(p.variant.id);\n          data.push(1);\n          labels.push(p.variant.name);\n        }\n      });\n      this.ogeBarChartData.labels = labels;\n      this.ogeBarChartData.datasets[0].data = data;\n      this.oge_loaded = true;\n      console.log(labels, data);\n    }).catch(err => {\n      console.log(err);\n    });\n    await API.get('/vpr/popularity').then(response => {\n      let popularity = response.data;\n      let variants = [];\n      let data = [];\n      let labels = [];\n      popularity.forEach(p => {\n        if (variants.includes(p.variant.id)) {\n          data[variants.findIndex(elem => elem == p.variant.id)] += 1;\n        } else {\n          variants.push(p.variant.id);\n          data.push(1);\n          labels.push(p.variant.name);\n        }\n      });\n      this.vprBarChartData.labels = labels;\n      this.vprBarChartData.datasets[0].data = data;\n      console.log(labels, data);\n      this.vpr_loaded = true;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n};","map":{"version":3,"names":["API","Navbar","BarChart","LineChart","name","components","data","users_loaded","ege_loaded","oge_loaded","vpr_loaded","lineChartData","labels","datasets","label","backgroundColor","egeBarChartData","ogeBarChartData","vprBarChartData","chartOptions","responsive","mounted","get","then","response","console","log","catch","err","popularity","variants","forEach","p","includes","variant","id","findIndex","elem","push"],"sources":["/Users/elinaigdavletova/Documents/Интернет_программирование/GQW/frontend/vueapp/src/views/Stats.vue"],"sourcesContent":["<template>\n    <Navbar></Navbar>\n    <div class=\"container\">\n        <div>\n            <LineChart v-if=\"users_loaded\" :options=\"chartOptions\" :data=\"lineChartData\"/>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-4\">\n                <BarChart v-if=\"ege_loaded\" :options=\"chartOptions\" :data=\"egeBarChartData\" class=\"col-3\"/>\n            </div>\n            <div class=\"col-4\">\n                <BarChart v-if=\"oge_loaded\" :options=\"chartOptions\" :data=\"ogeBarChartData\" class=\"col-3\"/>\n            </div>\n            <div class=\"col-4\">\n                <BarChart v-if=\"vpr_loaded\" :options=\"chartOptions\" :data=\"vprBarChartData\" class=\"col-3\"/>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { API } from '../axios-api'\n// import { mapState } from 'vuex'\nimport Navbar from '../components/Navbar.vue'\nimport BarChart from '../components/BarChart.vue'\nimport LineChart from '../components/LineChart.vue'\n\nexport default {\n    name: 'Stats',\n    components: {\n        Navbar, BarChart, LineChart\n    },\n    data() {\n        return {\n            users_loaded: false,\n            ege_loaded: false,\n            oge_loaded: false,\n            vpr_loaded: false,\n            lineChartData: {\n                labels: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\n                datasets: [\n                    {\n                        label: 'Пользователи',\n                        backgroundColor: 'blue',\n                        data: null,\n                    }\n                ]\n            },\n            egeBarChartData: {\n                // labels: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\n                labels: [],\n                datasets: [\n                    {\n                        label: 'ЕГЭ',\n                        backgroundColor: 'red',\n                        data: null,\n                    }\n                ]\n            },\n            ogeBarChartData: {\n                labels: [],\n                datasets: [\n                    {\n                        label: 'ОГЭ',\n                        backgroundColor: 'orange',\n                        data: null,\n                    }\n                ]\n            },\n            vprBarChartData: {\n                labels: [],\n                datasets: [\n                    {\n                        label: 'ВПР',\n                        backgroundColor: 'yellow',\n                        data: null,\n                    }\n                ]\n            },\n            chartOptions: {\n                responsive: true\n            }\n        }\n    },\n    async mounted() {\n        await API.get('/users').then(response => {\n            console.log(response.data)\n\n            this.users_loaded = true\n        }).catch(err => {\n            console.log(err)\n        })\n        await API.get('/ege/popularity').then(response => {\n            let popularity = response.data\n            let variants = []\n            let data = []\n            let labels = []\n            popularity.forEach(p => {\n                if (variants.includes(p.variant.id)) {\n                    data[variants.findIndex((elem) => elem == p.variant.id)] += 1\n                }\n                else {\n                    variants.push(p.variant.id)\n                    data.push(1)\n                    labels.push(p.variant.name)\n                }\n            })\n            this.egeBarChartData.labels = labels\n            this.egeBarChartData.datasets[0].data = data\n            this.ege_loaded = true\n            console.log(labels, data)\n        }).catch(err => {\n            console.log(err)\n        })\n        await API.get('/oge/popularity').then(response => {\n            let popularity = response.data\n            let variants = []\n            let data = []\n            let labels = []\n            popularity.forEach(p => {\n                if (variants.includes(p.variant.id)) {\n                    data[variants.findIndex((elem) => elem == p.variant.id)] += 1\n                }\n                else {\n                    variants.push(p.variant.id)\n                    data.push(1)\n                    labels.push(p.variant.name)\n                }\n            })\n            this.ogeBarChartData.labels = labels\n            this.ogeBarChartData.datasets[0].data = data\n            this.oge_loaded = true\n            console.log(labels, data)\n        }).catch(err => {\n            console.log(err)\n        })\n        \n        await API.get('/vpr/popularity').then(response => {\n            let popularity = response.data\n            let variants = []\n            let data = []\n            let labels = []\n            popularity.forEach(p => {\n                if (variants.includes(p.variant.id)) {\n                    data[variants.findIndex((elem) => elem == p.variant.id)] += 1\n                }\n                else {\n                    variants.push(p.variant.id)\n                    data.push(1)\n                    labels.push(p.variant.name)\n                }\n            })\n            this.vprBarChartData.labels = labels\n            this.vprBarChartData.datasets[0].data = data\n            console.log(labels, data)\n            this.vpr_loaded = true\n        }).catch(err => {\n            console.log(err)\n        })\n    }\n}\n</script>\n<style scoped>\n    \n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}