{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '../assets/Union.svg';\nconst _hoisted_1 = {\n  class: \"navbar navbar-expand-lg navbar-light bg-light\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"d-flex w-100 flex-wrap align-items-center justify-content-start\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"navbar-brand\",\n  href: \"/\"\n}, \"English Online\", -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"navbar-brand h-100\",\n  href: \"/\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0\n})], -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"nav col-auto me-auto\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  class: \"dropdown text-end\"\n};\nconst _hoisted_8 = {\n  href: \"#\",\n  class: \"dropdown-toggle text-decoration-none link-dark btn\",\n  role: \"button\",\n  \"data-bs-toggle\": \"dropdown\",\n  \"aria-expanded\": \"false\"\n};\nconst _hoisted_9 = {\n  class: \"dropdown-menu text-small dropdown-menu-end text-end\",\n  style: {\n    \"min-width\": \"5rem\"\n  }\n};\nconst _hoisted_10 = {\n  key: 2,\n  class: \"dropdown text-end\"\n};\nconst _hoisted_11 = {\n  href: \"#\",\n  class: \"link-dark text-decoration-none dropdown-toggle btn\",\n  \"data-bs-toggle\": \"dropdown\",\n  \"aria-expanded\": \"false\"\n};\nconst _hoisted_12 = {\n  class: \"dropdown-menu text-small text-end dropdown-menu-end w-auto\",\n  style: {\n    \"min-width\": \"9rem\"\n  }\n};\nconst _hoisted_13 = {\n  key: 0\n};\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"li\", null, [/*#__PURE__*/_createElementVNode(\"hr\", {\n  class: \"dropdown-divider\"\n})], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _hoisted_5, _createElementVNode(\"ul\", _hoisted_6, [_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: {\n      name: 'home'\n    },\n    exact: \"\",\n    class: \"nav-link link-dark\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Главная \")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: {\n      name: 'decks'\n    },\n    exact: \"\",\n    class: \"nav-link link-dark\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Карточки \")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: {\n      name: 'stats'\n    },\n    exact: \"\",\n    class: \"nav-link link-dark\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Статистика \")]),\n    _: 1 /* STABLE */\n  })])]), _ctx.accessToken == null ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 0,\n    to: {\n      name: 'login'\n    },\n    exact: \"\",\n    class: \"btn btn-outline-dark text-end\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Войти \")]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), _ctx.accessToken != null && !$options.cardsApp && $data.loaded ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"a\", _hoisted_8, _toDisplayString(_ctx.user.last_name) + \" \" + _toDisplayString(_ctx.user.first_name), 1 /* TEXT */), _createElementVNode(\"ul\", _hoisted_9, [_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: {\n      name: 'logout'\n    },\n    exact: \"\",\n    class: \"dropdown-item\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Выйти \")]),\n    _: 1 /* STABLE */\n  })])])])) : _createCommentVNode(\"v-if\", true), _ctx.accessToken != null && $options.cardsApp && $data.loaded ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_createElementVNode(\"a\", _hoisted_11, _toDisplayString(_ctx.user.username), 1 /* TEXT */), _createElementVNode(\"ul\", _hoisted_12, [_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: {\n      name: 'my-decks'\n    },\n    exact: \"\",\n    class: \"dropdown-item\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Мои стопки \")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: {\n      name: 'tests'\n    },\n    exact: \"\",\n    class: \"dropdown-item\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Тесты \")]),\n    _: 1 /* STABLE */\n  })]), _ctx.accessToken != null && $data.profile.role == 1 ? (_openBlock(), _createElementBlock(\"li\", _hoisted_13, [_createVNode(_component_router_link, {\n    to: {\n      name: 'my-tests'\n    },\n    exact: \"\",\n    class: \"dropdown-item\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Результаты тестов \")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _hoisted_14, _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: {\n      name: 'logout'\n    },\n    exact: \"\",\n    class: \"dropdown-item\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Выйти \")]),\n    _: 1 /* STABLE */\n  })])])])) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementVNode","href","src","role","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createVNode","_component_router_link","to","name","exact","_ctx","accessToken","_createBlock","$options","cardsApp","$data","loaded","_hoisted_7","_hoisted_8","_toDisplayString","user","last_name","first_name","_hoisted_9","_hoisted_10","_hoisted_11","username","_hoisted_12","profile","_hoisted_13","_hoisted_14"],"sources":["/Users/elinaigdavletova/Documents/Интернет_программирование/GQW/frontend/vueapp/src/components/Navbar.vue"],"sourcesContent":["<template>\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n    <div class=\"container\">\n        <div class=\"d-flex w-100 flex-wrap align-items-center justify-content-start\">\n            <a class=\"navbar-brand\" href=\"/\">English Online</a>\n            <a class=\"navbar-brand h-100\" href=\"/\"><img src=\"../assets/Union.svg\" /></a>\n\n            <ul class=\"nav col-auto me-auto\">\n                <li><router-link :to = \"{ name: 'home' }\" exact class=\"nav-link link-dark\"> Главная </router-link></li>\n                <li><router-link :to = \"{ name: 'decks' }\" exact class=\"nav-link link-dark\"> Карточки </router-link></li>\n                <li><router-link :to = \"{ name: 'stats' }\" exact class=\"nav-link link-dark\"> Статистика </router-link></li>\n            </ul>\n            <router-link :to = \"{ name: 'login' }\" exact class=\"btn btn-outline-dark text-end\" v-if=\"accessToken == null\"> Войти </router-link>\n\n            <div class=\"dropdown text-end\" v-if=\"(accessToken != null) && !cardsApp && loaded\">\n                <a href=\"#\" class=\"dropdown-toggle text-decoration-none link-dark btn\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">{{ user.last_name }} {{ user.first_name }}</a>\n                <ul class=\"dropdown-menu text-small dropdown-menu-end text-end\" style=\"min-width: 5rem\">\n                    <li><router-link :to = \"{ name: 'logout' }\" exact class=\"dropdown-item\"> Выйти </router-link></li>\n                </ul>\n            </div>\n\n            <div class=\"dropdown text-end\" v-if=\"(accessToken != null) && cardsApp && loaded\">\n                <a href=\"#\" class=\"link-dark text-decoration-none dropdown-toggle btn\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">{{ user.username }}</a>\n                <ul class=\"dropdown-menu text-small text-end dropdown-menu-end w-auto\" style=\"min-width: 9rem\">\n                    <li><router-link :to = \"{ name: 'my-decks' }\" exact class=\"dropdown-item\"> Мои стопки </router-link></li>\n                    <li><router-link :to = \"{ name: 'tests' }\" exact class=\"dropdown-item\"> Тесты </router-link></li>\n                    <li v-if=\"(accessToken != null) && (profile.role == 1)\"><router-link :to = \"{ name: 'my-tests' }\" exact class=\"dropdown-item\"> Результаты тестов </router-link></li>\n                    <li><hr class=\"dropdown-divider\"></li>\n                    <li><router-link :to = \"{ name: 'logout' }\" exact class=\"dropdown-item\"> Выйти </router-link></li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    </nav>\n</template>\n\n<script>\n    import { mapState } from 'vuex'\n    import { API } from '../axios-api'\n    export default {\n        name: 'Navbar',\n        data() {\n            return {\n                profile: '',\n                loaded: false,\n            }\n        },\n        computed: {\n            ...mapState(['accessToken', 'user']),\n            cardsApp() {\n                const url = this.$route.path\n                const regex = /^(.*)\\/cards.*/\n                const match = regex.exec(url)\n                if (match) return true\n                else return false\n            }\n        },\n        created() {\n            API.get('/get-csrf/').then(response => {\n                console.log(response.data)\n                localStorage.setItem('csrfToken', response.data.csrf_token)\n            }).catch(err => {\n                console.log(err)\n            })\n\n            API.get('/cards/profiles').then(response => {\n                console.log(response.data)\n                let profiles = response.data\n                profiles.forEach(p => {\n                    if (p.user.id == this.user.id) {\n                        this.profile = p\n                    }\n                })\n\n                this.loaded = true\n            }).catch(err => {\n                console.log(err)\n            })\n        },\n    }\n</script>\n\n<style scoped>\n    \n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}