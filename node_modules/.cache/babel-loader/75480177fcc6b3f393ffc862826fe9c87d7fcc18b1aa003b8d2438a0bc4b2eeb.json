{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  class: \"col-3\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"col-5 my-auto\"\n};\nconst _hoisted_7 = [\"id\"];\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-outline-success\"\n}, \"Закончить тест\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Navbar = _resolveComponent(\"Navbar\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Navbar), _createElementVNode(\"div\", _hoisted_1, [$data.loaded ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"form\", {\n    class: \"p-2 bg-light border border-3 rounded-3 row w-75 mx-auto mt-2\",\n    onSubmit: _cache[0] || (_cache[0] = $event => $options.check())\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.cards, c => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: c.id,\n      class: \"row my-3 border border-1\"\n    }, [_createElementVNode(\"div\", _hoisted_3, [c.front_word ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString(c.front_word), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), c.front_pic ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 1,\n      src: c.front_pic,\n      class: \"img-fluid\",\n      alt: \"\"\n    }, null, 8 /* PROPS */, _hoisted_5)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      id: c.id\n    }, null, 8 /* PROPS */, _hoisted_7)])]);\n  }), 128 /* KEYED_FRAGMENT */)), _hoisted_8], 32 /* HYDRATE_EVENTS */)])) : _createCommentVNode(\"v-if\", true)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","type","_createVNode","_component_Navbar","_hoisted_1","$data","loaded","_createElementBlock","_hoisted_2","onSubmit","_cache","$event","$options","check","_Fragment","_renderList","cards","c","key","id","_hoisted_3","front_word","_hoisted_4","_toDisplayString","front_pic","src","alt","_hoisted_6","_hoisted_8"],"sources":["/Users/elinaigdavletova/Documents/Интернет_программирование/GQW/frontend/vueapp/src/card_views/Test.vue"],"sourcesContent":["<template>\n    <Navbar></Navbar>\n    <div class=\"container\">\n        <div v-if=\"loaded\">\n            <form class=\"p-2 bg-light border border-3 rounded-3 row w-75 mx-auto mt-2\" @submit=\"check()\">\n                <div v-for=\"c in cards\" :key=\"c.id\" class=\"row my-3 border border-1\">\n                    <div class=\"col-3\">\n                        <div v-if=\"c.front_word\">{{ c.front_word }}</div>\n                        <img :src=\"c.front_pic\" class=\"img-fluid\" alt=\"\" v-if=\"c.front_pic\">\n                    </div>\n                    <div class=\"col-5 my-auto\">\n                        <input type=\"text\" class=\"form-control\" :id=\"c.id\">\n                    </div>\n                </div>\n\n                <button type=\"submit\" class=\"btn btn-outline-success\">Закончить тест</button>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { API } from '../axios-api'\nimport { mapState } from 'vuex'\nimport Navbar from '../components/Navbar.vue'\n\nexport default {\n    name: 'Test',\n    components: {\n        Navbar\n    },\n    data() {\n        return {\n            loaded: false,\n            base_url: 'http://127.0.0.1:8000',\n            cards: [],\n            attempt: '',\n        }\n    },\n    computed: {\n        ...mapState(['accessToken', 'user']),\n    },\n    created() {\n        API.get(`/cards/attempts/${this.$route.params.id}`).then(response => {\n            console.log(response.data)\n            this.attempt = response.data\n            API.get('/cards/or_cards').then(response => {\n                console.log(response.data)\n                let all_cards = response.data\n                all_cards.forEach(c => {\n                    if (c.deck.id == this.attempt.deck) {\n                        this.cards.push(c)\n                    }\n                })\n                this.loaded = true\n            }).catch(err => {\n                console.log(err)\n            })\n        }).catch(err => {\n            console.log(err)\n        })\n    },\n    methods: {\n        check() {\n            let cards = this.cards\n            cards.forEach(c => {\n                let answer = document.getElementById(c.id).value\n                let mark = 0\n                if (answer.toLowerCase() == c.word.toLowerCase()) {\n                    mark = 1\n                }\n                API.post(`/cards/marks/`, {\n                    card_id: c.id,\n                    mark: mark,\n                    attempt: this.$route.params.id\n                }, {\n                    headers: {\n                        'Authorization': `Bearer ${this.accessToken}`,\n                    },\n                }).then(response => {\n                    console.log(response.data)\n                }).catch(err => {\n                    console.log(err)\n                })\n            })\n\n            this.$router.push({ name: 'results', params: { id: this.$route.params.id }})\n        }\n    }\n\n}\n</script>\n<style lang=\"\">\n    \n</style>"],"mappings":";;EAESA,KAAK,EAAC;AAAW;;;;;EAIDA,KAAK,EAAC;AAAO;;;;;;EAIbA,KAAK,EAAC;AAAe;;gCAK9BC,mBAAA,CAA6E;EAArEC,IAAI,EAAC,QAAQ;EAACF,KAAK,EAAC;GAA0B,gBAAc;;;;6DAdhFG,YAAA,CAAiBC,iBAAA,GACjBH,mBAAA,CAgBM,OAhBNI,UAgBM,GAfSC,KAAA,CAAAC,MAAM,I,cAAjBC,mBAAA,CAcM,OAAAC,UAAA,GAbFR,mBAAA,CAYO;IAZDD,KAAK,EAAC,8DAA8D;IAAEU,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,KAAK;yBACrFN,mBAAA,CAQMO,SAAA,QAAAC,WAAA,CARWV,KAAA,CAAAW,KAAK,EAAVC,CAAC;yBAAbV,mBAAA,CAQM;MARmBW,GAAG,EAAED,CAAC,CAACE,EAAE;MAAEpB,KAAK,EAAC;QACtCC,mBAAA,CAGM,OAHNoB,UAGM,GAFSH,CAAC,CAACI,UAAU,I,cAAvBd,mBAAA,CAAiD,OAAAe,UAAA,EAAAC,gBAAA,CAArBN,CAAC,CAACI,UAAU,oB,mCACeJ,CAAC,CAACO,SAAS,I,cAAlEjB,mBAAA,CAAoE;;MAA9DkB,GAAG,EAAER,CAAC,CAACO,SAAS;MAAEzB,KAAK,EAAC,WAAW;MAAC2B,GAAG,EAAC;gFAElD1B,mBAAA,CAEM,OAFN2B,UAEM,GADF3B,mBAAA,CAAmD;MAA5CC,IAAI,EAAC,MAAM;MAACF,KAAK,EAAC,cAAc;MAAEoB,EAAE,EAAEF,CAAC,CAACE;;kCAIvDS,UAA6E,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}